{"version":3,"file":"index.js","mappings":"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ACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://fictional-university-theme/./src/index.js","webpack://fictional-university-theme/./src/modules/MobileMenu.js","webpack://fictional-university-theme/./src/modules/Questiton.js","webpack://fictional-university-theme/./src/modules/backTop.js","webpack://fictional-university-theme/./src/modules/newNotice.js","webpack://fictional-university-theme/./src/modules/newPolicy.js","webpack://fictional-university-theme/./src/modules/siteSearch.js","webpack://fictional-university-theme/./src/modules/smartSearch.js","webpack://fictional-university-theme/./src/modules/viewingHistory.js","webpack://fictional-university-theme/./css/style.scss?0cc9","webpack://fictional-university-theme/external window \"jQuery\"","webpack://fictional-university-theme/webpack/bootstrap","webpack://fictional-university-theme/webpack/runtime/chunk loaded","webpack://fictional-university-theme/webpack/runtime/compat get default export","webpack://fictional-university-theme/webpack/runtime/define property getters","webpack://fictional-university-theme/webpack/runtime/hasOwnProperty shorthand","webpack://fictional-university-theme/webpack/runtime/make namespace object","webpack://fictional-university-theme/webpack/runtime/jsonp chunk loading","webpack://fictional-university-theme/webpack/before-startup","webpack://fictional-university-theme/webpack/startup","webpack://fictional-university-theme/webpack/after-startup"],"sourcesContent":["import \"../css/style.scss\"\n\n// Our modules / classes\nimport MobileMenu from \"./modules/MobileMenu\"\nimport siteSearch from \"./modules/siteSearch\"\nimport NewPolicy from \"./modules/newPolicy\"\nimport BackToTop from \"./modules/backTop\"\nimport smartSearch from \"./modules/smartSearch\"\nimport Question from \"./modules/Questiton\"\nimport NewNotice from \"./modules/newNotice\"\nimport ViewingHistory from \"./modules/viewingHistory\"\n\n// Instantiate a new object using our modules/classes\nconst mobileMenu = new MobileMenu()\nconst sitesearch = new siteSearch()\nconst newpolicy = new NewPolicy()\nconst backtotop = new BackToTop()\nconst smartsearch = new smartSearch();\nconst question = new Question();\nconst newnotice = new NewNotice();\nconst viewinghistory = new ViewingHistory();","class MobileMenu {\n  constructor() {\n    this.menu = document.querySelector(\".site-header__menu\")\n    this.openButton = document.querySelector(\".site-header__menu-trigger\")\n    this.events()\n  }\n\n  events() {\n    this.openButton.addEventListener(\"click\", () => this.openMenu())\n  }\n\n  openMenu() {\n    this.openButton.classList.toggle(\"fa-bars\")\n    this.openButton.classList.toggle(\"fa-window-close\")\n    this.menu.classList.toggle(\"site-header__menu--active\")\n  }\n}\n\nexport default MobileMenu\n","import $ from 'jquery';\r\n\r\nclass Question{\r\n    constructor(){\r\n        this.events();\r\n    }\r\n    events(){\r\n\r\n        $('.delete-question').on('click',this.deleteQuestion.bind(this));\r\n        this.highlightMyQuestion(); \r\n        this.replaceQuestionsContent();\r\n    }\r\n    //替换字符以及给a标签增加新标签页\r\n    replaceQuestionsContent() {  \r\n        var question_content = $('.generic-content').html();  \r\n        // 创建一个临时的div来容纳HTML  \r\n        var tempDiv = $('<div>').html(question_content);  \r\n        // 检查是否存在.question-answer类  \r\n        var questionFlag = tempDiv.find('.question-answer').length > 0;  \r\n        if (questionFlag) {              \r\n            // 在.question-answer类下的a标签上操作  \r\n            tempDiv.find('.question-answer a').each(function() {  \r\n                // 替换&amp;为&  \r\n                var href = $(this).attr('href').replace(/&amp;/g, '&');  \r\n                console.log(href);\r\n                $(this).attr('href', href);     \r\n                // 添加target=\"_blank\"（如果还没有的话）  \r\n                if (!$(this).attr('target') || $(this).attr('target') !== '_blank') {  \r\n                    $(this).attr('target', '_blank');  \r\n                }  \r\n            });  \r\n            // 将修改后的div转回为字符串（如果需要的话）  \r\n            var modifiedString = tempDiv.html();  \r\n            //console.log(modifiedString);  \r\n            // 把修改后的内容放回原处，可以使用：  \r\n            $('.generic-content').html(modifiedString);  \r\n        }  \r\n    }\r\n\r\n\r\n    highlightMyQuestion() {\r\n        //console.log(univ_data.current_user);\r\n        $('.question-title').each(function() {\r\n            if ($(this).data('author') == univ_data.current_user) {\r\n                $(this).addClass('question-title-highlight');\r\n            }\r\n        });\r\n    }\r\n    deleteQuestion(e){\r\n        var thisQuestion=$(e.target).parents(\"li\");\r\n        //删除wordpress中policy post的请求\r\n        $.ajax({\r\n            beforeSend:(xhr)=>{\r\n                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n            },\r\n            url:univ_data.root_url+'/wp-json/wp/v2/question/'+thisQuestion.data('id'),\r\n            type:'DELETE',\r\n            success:(response)=>{\r\n                thisQuestion.slideUp();\r\n                console.log('congrats');\r\n                console.log(response);\r\n            },\r\n            error:(response)=>{\r\n                console.log('sorry');\r\n                console.log(response);               \r\n            },\r\n        });\r\n    }\r\n}\r\n\r\nexport default Question;","import $ from 'jquery';\r\n\r\n//回到最顶部的按钮\r\nclass BackToTop{\r\n    constructor(){\r\n        this.mybutton = $(\".backTop\");\r\n        this.events();\r\n\r\n    }\r\n    events(){\r\n        this.mybutton.on('click',this.backtotop_click.bind(this));\r\n        // 当用户向下滚动20px时显示按钮，向上滚动时隐藏按钮  \r\n        $(window).scroll(function() {  \r\n\r\n            if ($(this).scrollTop() > 20) {  \r\n                $('#backToTopBtn').fadeIn();  \r\n            } else {  \r\n                $('#backToTopBtn').fadeOut();  \r\n            }  \r\n        });\r\n    }\r\n    backtotop_click(){\r\n        console.log('clicked');\r\n        $('body,html').animate({  \r\n\r\n            scrollTop: 0  \r\n\r\n        }, 500); // 800是滚动动画的持续时间，单位是毫秒  \r\n       \r\n    }\r\n}\r\n\r\n\r\nexport default BackToTop;\r\n  \r\n","import $ from 'jquery';\r\n\r\n//获取文件名\r\nfunction getFileNameWithoutExtension(filePath) {  \r\n    // 使用最后一个'.'作为分隔符来分割字符串  \r\n    const parts = filePath.split('.');  \r\n    // 获取除了最后一个部分（即扩展名）之外的所有部分，并使用'.'连接它们（如果有的话）  \r\n    const fileNameWithoutExtension = parts.slice(0, -1).join('.');  \r\n    return fileNameWithoutExtension;  \r\n}\r\n//获取文件后缀\r\nfunction getFileExtension(filePath) {  \r\n    // 使用lastIndexOf找到最后一个'.'的位置  \r\n    const lastIndex = filePath.lastIndexOf('.');  \r\n    // 如果找到了'.'，则返回从该'.'到字符串末尾的所有字符  \r\n    if (lastIndex !== -1) {  \r\n        return filePath.slice(lastIndex + 1); // 使用slice方法，从lastIndex+1开始到字符串末尾  \r\n    }  \r\n}  \r\n\r\n\r\nclass NewNotice{\r\n    constructor(){\r\n        this.fileNames = []; // 将 fileNames 设置为类的属性 \r\n        this.events();\r\n        this.notice_type = 'none';\r\n    }\r\n    events(){\r\n        $(\"#current_notice\").on('click','.delete-notice',this.deleteNotice.bind(this));\r\n        $('.new-notice').on('change',this.checkFiles.bind(this));  \r\n        $(\".submit-notice\").on('click',this.submitNotice.bind(this));\r\n        $('.showFiles').on('click',this.showFiles);\r\n        this.getText();\r\n    }\r\n    getText() {  \r\n        //获取archive-notice页面上所有notice\r\n        $('.notice-unit').each(function() {  \r\n            //获取是否已提取文本的flag\r\n            var got_content=$(this).data('content');\r\n            //若为零，则未提取并继续\r\n            if(!got_content){\r\n                //获取文件所在路径\r\n                var urlString = $(this).data('file');\r\n                //通过正则来后去需要的那部分的路径\r\n                // 使用正则表达式匹配从'wp-content'开始之后的所有内容              \r\n                var regex = /wp-content\\/(.*?\\.[a-zA-Z]{2,4})/;    \r\n                var match = urlString.match(regex);     \r\n                if (match && match.length > 1) {  \r\n                    var contentPath = match[1]; // 匹配到的第一个捕获组  \r\n                } else {  \r\n                    console.log('No match found.');  \r\n                \r\n                }\r\n                //提取文本的接口，合成url\r\n                let answer_url = 'http://101.42.183.176:51115/get_text/?filepath=/www/wwwroot/101.42.183.176/wp-content/'+contentPath;  \r\n                console.log(answer_url);\r\n                //从html中提取notice的id\r\n                let post_id = $(this).data('id');\r\n                //向提取文本的接口发送请求\r\n                $.ajax({  \r\n                    beforeSend:(xhr)=>{\r\n                        xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                    },  \r\n                    url: answer_url,\r\n                    type: 'GET', // 请求类型：GET  \r\n                    dataType: 'json', // 期望的返回数据类型  \r\n                    success:(response)=>{\r\n                        //console.log(response);\r\n                        //请求成功后，将得到的文本通过action在php端更新notice\r\n                        $.ajax({  \r\n                            beforeSend:(xhr)=>{\r\n                                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                            },  \r\n                            url: univ_data.ajaxurl,\r\n                            data: {  \r\n                                'action': 'getTextForUpdate', \r\n                                'file_text': response.text, // 要传递的数据  \r\n                                'post_id':post_id,\r\n                            },  \r\n                            type: 'POST',  \r\n                            success:(response2)=>{\r\n                                //console.log(response2);\r\n                                //更新成功后取消flag\r\n                                $.ajax({\r\n                                    beforeSend:(xhr)=>{\r\n                                        xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                                    },  \r\n                                    url: univ_data.ajaxurl,\r\n                                    data: {\r\n                                        'action':'already_got_content_post',\r\n                                        'post_id':post_id,\r\n                                    },  \r\n                                    type: 'POST',  \r\n                                    success:(response3)=>{\r\n                                        //console.log(response3);\r\n                                    },\r\n                                    error:(response3)=>{\r\n                                        console.log(response3);\r\n                                    }\r\n                                });\r\n                            },\r\n                            error:(response2)=>{\r\n                                console.log(response2);\r\n                            }\r\n                        });     \r\n                    },\r\n                    error:(response)=>{\r\n                        console.log(response);\r\n                    }\r\n                });  \r\n            }\r\n\r\n        });  \r\n    }\r\n\r\n    showFiles(){\r\n        if($(this).hasClass('show-workInjure')){\r\n            $('.file-list-workInjure').toggleClass('visible');\r\n        }  \r\n        if($(this).hasClass('show-basicMed')){\r\n            $('.file-list-basicMed').toggleClass('visible');\r\n        }  \r\n        if($(this).hasClass('show-outServiceSpecial')){\r\n            $('.file-list-outServiceSpecial').toggleClass('visible');\r\n        }  \r\n        if($(this).hasClass('show-birth')){\r\n            $('.file-list-birth').toggleClass('visible');\r\n        }  \r\n    }\r\n\r\n\r\n    //检查选择文件数是否超过12\r\n    checkFiles(e){\r\n        var input = $('.new-notice')[0]; // 使用 [0] 或 .get(0) 来获取 DOM 元素  \r\n        var files = input.files;  \r\n        var maxFiles = 12;  \r\n        if (files.length > maxFiles) {  \r\n            alert('您最多只能选择' + maxFiles + '个文件:请重新选择文件。');  \r\n            // 清除当前选择，以便用户重新选择  \r\n            input.value = '';  \r\n            input.value = null;\r\n            // 注意：在某些浏览器中，直接设置 input.value = '' 可能不起作用  \r\n            // 一种替代方法是使用 input.value = null（但并非所有浏览器都支持）  \r\n        }else{\r\n            this.fileNames = []; // 清空之前的文件名  \r\n            var files = $(e.target).prop('files');  \r\n            for (var i = 0; i < files.length; i++) {  \r\n                this.fileNames.push(files[i].name);  \r\n            }  \r\n            console.log(this.fileNames); // 控制台输出  \r\n        }\r\n    }\r\n\r\n    //提交文件\r\n    async submitNotice(){\r\n        this.notice_type = $('#notice-type-select').val();\r\n        for(let i=0;i<this.fileNames.length;i++){\r\n            var exist_notice=false;\r\n            //正则提取文字的标题\r\n            var raw_title = this.fileNames[i];\r\n            //提取文件后缀e.g. docx/pdf\r\n            var suffix = getFileExtension(raw_title);\r\n            //去除文件名后缀\r\n            var clear_title = getFileNameWithoutExtension(raw_title)\r\n            //查重\r\n            for(let k=0;k<univ_data.policies.length;k++){\r\n                if(clear_title==univ_data.notices[k]){\r\n                    exist_notice=true;\r\n                }\r\n            }\r\n            if(exist_notice){\r\n                alert(\"您上传的文件已存在:\"+this.fileNames[i]);\r\n                continue;\r\n            }\r\n            if(!exist_notice){\r\n                var newFile={\r\n                    'title':clear_title,\r\n                    'excerpt':suffix,\r\n                    'content':'',\r\n                    'status':'publish',\r\n                }\r\n                //发布notice post\r\n                $.ajax({  \r\n                    beforeSend:(xhr)=>{\r\n                        xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                    },  \r\n                    url: univ_data.root_url+'/wp-json/wp/v2/notice/',\r\n                    data: newFile,  \r\n                    type: 'POST',  \r\n                    success:(response)=>{\r\n                        $(\".notice-limit-message\").addClass(\"active\");\r\n                        $(\"#upload-notice-btn\").removeClass(\"upload-notice-hide\");\r\n                        $(\"#submit-notice-btn\").addClass(\"upload-notice-hide\");\r\n                        //初始化notice-type,顺便初始化got_content\r\n                        $.ajax({  \r\n                            beforeSend:(xhr)=>{\r\n                                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                            },\r\n                            type: 'POST',  \r\n                            url: univ_data.ajaxurl, // WordPress的AJAX处理URL  \r\n                            data: {  \r\n                                //ajax action 钩子->传到php调用相应action的函数\r\n                                'action': 'initiate_notice_type', \r\n                                //传递id\r\n                                'notice_id':response.id,\r\n                                'notice_type':this.notice_type,\r\n                            },  \r\n                            success: (metaresponse)=>{  \r\n                                //console.log(metaresponse);  \r\n                            },  \r\n                            error: (error)=>{  \r\n                                // 处理AJAX请求错误  \r\n                                console.log(error);  \r\n                            }  \r\n                        }); \r\n                    },\r\n                    error:(response)=>{\r\n                        console.log(response);\r\n                    }\r\n                });        \r\n            }\r\n        }          \r\n    }\r\n\r\n    //delete\r\n    deleteNotice(e){\r\n        var thisNotice=$(e.target).parents(\"li\");\r\n       $.ajax({\r\n            beforeSend:(xhr)=>{\r\n                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n            },\r\n            url:univ_data.root_url+'/wp-json/wp/v2/notice/'+thisNotice.data('id'),\r\n            type:'DELETE',\r\n            success:(response)=>{\r\n                thisNotice.slideUp();\r\n                //console.log('congrats');\r\n                //console.log(response);\r\n            },\r\n            error:(response)=>{\r\n                console.log('sorry');\r\n                console.log(response);               \r\n            },\r\n        });\r\n        //删除上传的文档的请求\r\n        var delete_url_no_suffix = thisNotice.data('delete_url');\r\n        var delete_url = delete_url_no_suffix+thisNotice.data('suffix');\r\n        //console.log(delete_url);\r\n        $.ajax({  \r\n            beforeSend:(xhr)=>{\r\n                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n            },\r\n            type: 'POST',  \r\n            url: univ_data.ajaxurl, // WordPress的AJAX处理URL  \r\n            data: {  \r\n                'action': 'delete_notice', // 自定义的action名称:文心一言牛逼！！！\r\n                'file_path': delete_url // 要传递的数据  \r\n            },  \r\n            success: function(response) {  \r\n                // 处理服务器响应  \r\n                console.log(response);  \r\n                if (response.success) {  \r\n                    //alert('文件已成功删除！');  \r\n                } else {  \r\n                    alert('删除文件时发生错误：' + response.data);  \r\n                }  \r\n            },  \r\n            error: function(error) {  \r\n                // 处理AJAX请求错误  \r\n                console.log(error);  \r\n            }  \r\n        });         \r\n    \r\n        \r\n    }\r\n    submit_form(e){\r\n        console.log('#notice-submit-form');\r\n\r\n        var formData = new FormData();\r\n        var fileInput = $('.new-notice')[0];  \r\n        if (fileInput.files.length > 0) {  \r\n            // 添加文件到FormData  \r\n            for(let i=0;i<fileInput.files.length;i++){\r\n\r\n                formData.append('upload-notice', fileInput.files[i]); \r\n            }\r\n            \r\n        }  \r\n        formData.append('action', 'uploadNewNotices');  \r\n        console.log(formData);\r\n        $.ajax({  \r\n            beforeSend:(xhr)=>{\r\n                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n            },\r\n            type: 'POST',  \r\n            url: univ_data.ajaxurl, // WordPress的AJAX处理URL  \r\n            data: formData,\r\n            processData: false, // 告诉jQuery不要去处理发送的数据  \r\n            success: function(res) {  \r\n                // 处理服务器响应  \r\n                console.log(111);  \r\n                console.log(res);  \r\n            },  \r\n            error: function(error) {  \r\n                // 处理AJAX请求错误  \r\n                console.log(222);  \r\n                console.log(error);  \r\n            }  \r\n        });\r\n    }\r\n}\r\n\r\nexport default NewNotice;","import $ from 'jquery';\r\n\r\n//获取文件名\r\nfunction getFileNameWithoutExtension(filePath) {  \r\n    // 使用最后一个'.'作为分隔符来分割字符串  \r\n    const parts = filePath.split('.');  \r\n    // 获取除了最后一个部分（即扩展名）之外的所有部分，并使用'.'连接它们（如果有的话）  \r\n    const fileNameWithoutExtension = parts.slice(0, -1).join('.');  \r\n    return fileNameWithoutExtension;  \r\n}\r\n//获取文件后缀\r\nfunction getFileExtension(filePath) {  \r\n    // 使用lastIndexOf找到最后一个'.'的位置  \r\n    const lastIndex = filePath.lastIndexOf('.');  \r\n    // 如果找到了'.'，则返回从该'.'到字符串末尾的所有字符  \r\n    if (lastIndex !== -1) {  \r\n        return filePath.slice(lastIndex + 1); // 使用slice方法，从lastIndex+1开始到字符串末尾  \r\n    }  \r\n}  \r\n\r\n\r\nclass NewPolicy{\r\n    constructor(){\r\n        this.fileNames = []; // 将 fileNames 设置为类的属性 \r\n        this.events();\r\n    }\r\n    events(){\r\n        $(\"#current_policy\").on('click','.delete-policy',this.deletePolicy.bind(this));\r\n        $('.new-file').on('change',this.checkFiles.bind(this));  \r\n        $(\".submit-note\").on('click',this.submitPolicy.bind(this));\r\n        this.getText();\r\n    }\r\n    //获取pdf/docx文件内容\r\n    getText() {  \r\n        //获取archive-policy页面上所有policy\r\n        $('.policy-unit').each(function() {  \r\n            // 在这里，'this' 指的是当前遍历到的 .policy-unit DOM 元素  \r\n            //获取是否已提取文本的flag\r\n            var got_content=$(this).data('content');\r\n            //若为零，则未提取并继续\r\n            if(!got_content){\r\n                //获取文件所在路径\r\n                var urlString = $(this).data('file');\r\n                //通过正则来后去需要的那部分的路径\r\n                // 使用正则表达式匹配从'wp-content'开始之后的所有内容              \r\n                var regex = /wp-content\\/(.*?\\.[a-zA-Z]{2,4})/;    \r\n                var match = urlString.match(regex);     \r\n                if (match && match.length > 1) {  \r\n                    var contentPath = match[1]; // 匹配到的第一个捕获组  \r\n                } else {  \r\n                    console.log('No match found.');  \r\n                \r\n                }\r\n                //提取文本的接口，合成url\r\n                let answer_url = 'http://101.42.183.176:51115/get_text/?filepath=/www/wwwroot/101.42.183.176/wp-content/'+contentPath;  \r\n                //从html中提取policy的id\r\n                let post_id = $(this).data('id');\r\n                //向提取文本的接口发送请求\r\n                $.ajax({  \r\n                    beforeSend:(xhr)=>{\r\n                        xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                    },  \r\n                    url: answer_url,\r\n                    type: 'GET', // 请求类型：GET  \r\n                    dataType: 'json', // 期望的返回数据类型  \r\n                    success:(response)=>{\r\n                        //console.log(response);\r\n                        //请求成功后，将得到的文本通过action在php端更新policy\r\n                        $.ajax({  \r\n                            beforeSend:(xhr)=>{\r\n                                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                            },  \r\n                            url: univ_data.ajaxurl,\r\n                            data: {  \r\n                                'action': 'getTextForUpdate', \r\n                                'file_text': response.text, // 要传递的数据  \r\n                                'post_id':post_id,\r\n                            },  \r\n                            type: 'POST',  \r\n                            success:(response2)=>{\r\n                                //console.log(response2);\r\n                                //更新成功后取消flag\r\n                                $.ajax({\r\n                                    beforeSend:(xhr)=>{\r\n                                        xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                                    },  \r\n                                    url: univ_data.ajaxurl,\r\n                                    data: {\r\n                                        'action':'already_got_content_post',\r\n                                        'post_id':post_id,\r\n                                    },  \r\n                                    type: 'POST',  \r\n                                    success:(response3)=>{\r\n                                        //console.log(response3);\r\n                                    },\r\n                                    error:(response3)=>{\r\n                                        console.log(response3);\r\n                                    }\r\n                                });\r\n                            },\r\n                            error:(response2)=>{\r\n                                console.log(response2);\r\n                            }\r\n                        });     \r\n                    },\r\n                    error:(response)=>{\r\n                        console.log(response);\r\n                    }\r\n                });  \r\n            }\r\n\r\n        });  \r\n    }\r\n\r\n\r\n    //检查选择文件数是否超过12\r\n    checkFiles(e){\r\n        //window.alert(123);\r\n        var input = $('.new-file')[0]; // 使用 [0] 或 .get(0) 来获取 DOM 元素  \r\n        var files = input.files;  \r\n        var maxFiles = 12;  \r\n        if (files.length > maxFiles) {  \r\n            alert('您最多只能选择' + maxFiles + '个文件:请重新选择文件。');  \r\n            // 清除当前选择，以便用户重新选择  \r\n            input.value = '';  \r\n            input.value = null;\r\n            // 注意：在某些浏览器中，直接设置 input.value = '' 可能不起作用  \r\n            // 一种替代方法是使用 input.value = null（但并非所有浏览器都支持）  \r\n        }else{\r\n            this.fileNames = []; // 清空之前的文件名  \r\n            var files = $(e.target).prop('files');  \r\n            for (var i = 0; i < files.length; i++) {  \r\n                this.fileNames.push(files[i].name);  \r\n            }  \r\n            //console.log(this.fileNames); // 控制台输出  \r\n        }\r\n    }\r\n\r\n    //提交文件\r\n    async submitPolicy(){\r\n        for(let i=0;i<this.fileNames.length;i++){\r\n            //判断当前文件policy的post是否存在的flag\r\n            var exist_policy=false;\r\n            //正则提取文字的标题\r\n            var raw_title = this.fileNames[i];\r\n            //提取文件后缀e.g. docx/pdf\r\n            var suffix = getFileExtension(raw_title);\r\n            //去除文件名后缀\r\n            var clear_title = getFileNameWithoutExtension(raw_title)\r\n            //查重\r\n            for(let k=0;k<univ_data.policies.length;k++){\r\n                if(clear_title==univ_data.policies[k]){\r\n                    exist_policy=true;\r\n                }\r\n            }\r\n            if(exist_policy){\r\n                alert(\"您上传的文件已存在:\"+this.fileNames[i]);\r\n                continue;\r\n            }\r\n            if(!exist_policy){\r\n                var newFile={\r\n                    'title':clear_title,\r\n                    'excerpt':suffix,\r\n                    'content':'',\r\n                    'status':'publish',\r\n                }\r\n                $.ajax({  \r\n                    beforeSend:(xhr)=>{\r\n                        xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                    },  \r\n                    url: univ_data.root_url+'/wp-json/wp/v2/policy/',\r\n                    data: newFile,  \r\n                    type: 'POST',  \r\n                    success:(response)=>{\r\n                        $(\".note-limit-message\").addClass(\"active\");\r\n                        $(\"#upload-policy-btn\").removeClass(\"upload-policy-hide\");\r\n                        $(\"#submit-policy-btn\").addClass(\"upload-policy-hide\");\r\n                        //发布后更新post令got_content的flag生效\r\n                        $.ajax({\r\n                            beforeSend:(xhr)=>{\r\n                                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                            },  \r\n                            url: univ_data.ajaxurl,\r\n                            data: {\r\n                                'action':'initiate_policy',\r\n                                'policy_id':response.id,\r\n                            },  \r\n                            type: 'POST',  \r\n                            success:(response2)=>{\r\n                                //console.log(response2);\r\n                            },\r\n                            error:(response2)=>{\r\n                                console.log(response2);\r\n                            }\r\n                        });\r\n                    },\r\n                    error:(response)=>{\r\n                        console.log(\"error\");\r\n                        console.log(response);\r\n                    }\r\n                });                   \r\n            }\r\n        }          \r\n    }\r\n\r\n    //delete\r\n    deletePolicy(e){\r\n        var thisPolicy=$(e.target).parents(\"li\");\r\n        //删除wordpress中policy post的请求\r\n        $.ajax({\r\n            beforeSend:(xhr)=>{\r\n                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n            },\r\n            url:univ_data.root_url+'/wp-json/wp/v2/policy/'+thisPolicy.data('id'),\r\n            type:'DELETE',\r\n            success:(response)=>{\r\n                thisPolicy.slideUp();\r\n            },\r\n            error:(response)=>{\r\n                console.log('sorry');\r\n                console.log(response);               \r\n            },\r\n        });\r\n        //删除上传的文档的请求\r\n        var delete_url_no_suffix = thisPolicy.data('delete_url');\r\n        var delete_url = delete_url_no_suffix+thisPolicy.data('suffix');\r\n        //console.log(delete_url);\r\n        $.ajax({  \r\n            beforeSend:(xhr)=>{\r\n                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n            },\r\n            type: 'POST',  \r\n            url: univ_data.ajaxurl, // WordPress的AJAX处理URL  \r\n            data: {  \r\n                'action': 'delete_file',\r\n                'file_path': delete_url // 要传递的数据  \r\n            },  \r\n            success: function(response) {  \r\n                // 处理服务器响应  \r\n                console.log(response);  \r\n                if (response.success) {  \r\n                    //alert('文件已成功删除！');  \r\n                } else {  \r\n                    alert('删除文件时发生错误：' + response.data);  \r\n                }  \r\n            },  \r\n            error: function(error) {  \r\n                // 处理AJAX请求错误  \r\n                console.log(error);  \r\n            }  \r\n        });         \r\n    \r\n        \r\n    }\r\n    submit_form(e){\r\n        console.log('#policy-submit-form');\r\n        //e.preventDefault();  \r\n        //console.log('#policy-submit-form');\r\n        var formData = new FormData();\r\n        var fileInput = $('.new-file')[0];  \r\n        if (fileInput.files.length > 0) {  \r\n            // 添加文件到FormData  \r\n            for(let i=0;i<fileInput.files.length;i++){\r\n\r\n                formData.append('upload-policy', fileInput.files[i]); \r\n            }\r\n            \r\n        }  \r\n        formData.append('action', 'uploadNewPolicies');  \r\n        console.log(formData);\r\n        $.ajax({  \r\n            beforeSend:(xhr)=>{\r\n                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n            },\r\n            type: 'POST',  \r\n            url: univ_data.ajaxurl, // WordPress的AJAX处理URL  \r\n            data: formData,\r\n            processData: false, // 告诉jQuery不要去处理发送的数据  \r\n            success: function(res) {  \r\n                // 处理服务器响应  \r\n                console.log(res);  \r\n            },  \r\n            error: function(error) {  \r\n                // 处理AJAX请求错误  \r\n                console.log(error);  \r\n            }  \r\n        });\r\n    }    \r\n    \r\n}\r\n\r\nexport default NewPolicy;","import $ from 'jquery';\r\nclass siteSearch{\r\n    //constructor中的代码在创建对象时会立刻执行\r\n    constructor(){\r\n        this.addSearchHtml();\r\n        this.openBtn=$(\"#site-search\");//指向搜索按钮class\r\n        this.closeBtn=$(\".search-overlay__close\");//获取关闭搜索按钮class\r\n        this.searchOverlay=$(\".search-overlay\");//class用.来获取\r\n        this.searchField = $('#search-item');//id用#来获取\r\n        this.events();\r\n        this.searchState = false;//搜索状态\r\n        this.typingTimer;//搜索计时器\r\n        this.resultsDiv = $('#search-overlay__results');//搜索结果\r\n        this.spinnerState = false;//搜索等待图标状态\r\n        this.previousValue; \r\n    }\r\n    //2.events\r\n    events(){   \r\n        this.openBtn.on('click',this.openOverlay.bind(this));\r\n        this.closeBtn.on('click',this.closeOverlay.bind(this));\r\n        //keyup只在放开按键时触发，keydown按下后不松开就一直触发\r\n        $(document).on('keyup',this.keyPressDispathcer.bind(this));\r\n        //keydown的时间太短，searchfield来不及更新状态\r\n        //所以要用keyup\r\n        this.searchField.on('keyup',this.typingLogic.bind(this));           \r\n        //若正在只能搜索：禁用站内搜索\r\n    }\r\n    //3.functions   \r\n    typingLogic(){\r\n        if(this.searchField.val()!=this.previousValue){\r\n            //每次按键按下都会触发函数\r\n            //需要重置计时器\r\n            clearTimeout(this.typingTimer);\r\n            if(this.searchField.val()){//输入框有内容才继续\r\n                if(!this.spinnerState){\r\n                this.resultsDiv.html('<div class=\"spinner-loader\"></div>'); \r\n                this.spinnerState=true;\r\n                }\r\n                this.typingTimer=setTimeout(this.getResults.bind(this),500);       \r\n            }else{//若输入框为空，就打印空结果，置零等待图标\r\n                this.resultsDiv.html('')\r\n                this.spinnerState=false;\r\n            }\r\n        }\r\n        this.previousValue=this.searchField.val();      \r\n    }\r\n    //搜索请求\r\n    getResults() {\r\n        const searchTerm = this.searchField.val(); // 获取搜索词\r\n        //若用户搜索了某个键对应的数组中的任何一个元素\r\n        //则查询该数组的所有内容并显示\r\n        const replaceTerms = {\r\n            '城乡居民基本医疗保险': ['城乡居民基本医疗保险','城乡居民', '一老一小', '学生', '儿童', '婴幼儿', '老年人', '劳动年龄内居民'],\r\n            '门诊特殊病': ['门诊特殊病','门特病', '特殊病', '门诊特病', '恶性肿瘤', '肿瘤', '癌症', '透析', '肾透析', '移植', '抗排异']\r\n        };\r\n        let combinedResults = { notices: [], policies: [], questions: [] }; // 初始化结果对象\r\n        let ajaxRequests = []; // 存储 AJAX 请求的数组\r\n        let groupNames = {}; // 存储组名的对象\r\n        // 遍历 replaceTerms 对象，先遍历键值\r\n        for (const groupName in replaceTerms) {\r\n            //获取键值对应的近义词数组\r\n            const synonyms = replaceTerms[groupName];\r\n            // 遍历第二层数组（同义词数组）\r\n            synonyms.forEach(synonym => {\r\n                // 如果搜索词匹配到同义词\r\n                if (searchTerm === synonym) {\r\n                    groupNames[synonym] = groupName; // 存储同义词与组名的对应关系\r\n                }\r\n            });\r\n        }\r\n        // 检查搜索词是否在替换列表中\r\n        if (searchTerm in groupNames) {\r\n            const groupName = groupNames[searchTerm];\r\n            replaceTerms[groupName].forEach(replaceTerm => {\r\n                // 发送 AJAX 请求搜索结果\r\n                const request = $.getJSON(univ_data.root_url + '/wp-json/univ/v1/search?term=' + replaceTerm, (results) => {\r\n                    // 将搜索结果合并到总结果对象中\r\n                    this.mergeResults(combinedResults, results);\r\n                });\r\n                ajaxRequests.push(request); // 将请求存储到数组中\r\n            });\r\n        } else {\r\n            // 如果不在列表中，则直接按原搜索词进行搜索\r\n            const request = $.getJSON(univ_data.root_url + '/wp-json/univ/v1/search?term=' + searchTerm, (results) => {\r\n                // 将搜索结果合并到总结果对象中\r\n                this.mergeResults(combinedResults, results);\r\n            });\r\n            ajaxRequests.push(request); // 将请求存储到数组中\r\n        }        \r\n    \r\n        // 当请求完成时\r\n        $.when(...ajaxRequests).done(() => {\r\n            // 更新搜索结果显示\r\n            this.displayResults(combinedResults);\r\n            this.spinnerState = false;\r\n        });\r\n    }\r\n    //合并搜索结果并进行查重\r\n    mergeResults(combinedResults, newResults) {\r\n        // 辅助函数：检查是否已存在某条结果\r\n        function isResultExists(resultsArray, result) {\r\n            return resultsArray.some(existingResult => existingResult.id === result.id); // 假设每个结果对象有一个唯一的 id\r\n        }\r\n        // 合并 notices\r\n        newResults.notices.forEach(notice => {\r\n            if (!isResultExists(combinedResults.notices, notice)) {\r\n                combinedResults.notices.push(notice);\r\n            }\r\n        });\r\n        // 合并 policies\r\n        newResults.policies.forEach(policy => {\r\n            if (!isResultExists(combinedResults.policies, policy)) {\r\n                combinedResults.policies.push(policy);\r\n            }\r\n        });\r\n    \r\n        // 合并 questions\r\n        newResults.questions.forEach(question => {\r\n            if (!isResultExists(combinedResults.questions, question)) {\r\n                combinedResults.questions.push(question);\r\n            }\r\n        });\r\n    }\r\n    //显示搜索结果\r\n    displayResults(results) {\r\n        this.resultsDiv.html(`\r\n            <div class=\"row\">  \r\n                <div class=\"one-third\">\r\n                    <h2 class=\"search-overlay__section-title\">报销须知</h2>\r\n                    ${results.notices.length ? '<ul class=\"link-list min-list\">' : `<p>无匹配须知。<a target=\"_blank\" href=\"${univ_data.root_url}/Notices\">查看所有须知</a></p>`}\r\n                    ${results.notices.map(item => `<li><a href=\"${item.permalink}\" target=\"_blank\">${item.title}</a></li>`)}  \r\n                    ${results.notices.length ? `</ul>` : ``}                       \r\n                </div>    \r\n                <div class=\"one-third\">\r\n                    <h2 class=\"search-overlay__section-title\">相关政策</h2>\r\n                    ${results.policies.length ? '<ul class=\"link-list min-list\">' : `<p>无匹配政策。<a target=\"_blank\" href=\"${univ_data.root_url}/Policies\">查看所有政策</a></p>`}\r\n                    ${results.policies.map(item => `<li><a href=\"${item.permalink}\" target=\"_blank\">${item.title}</a></li>`)}\r\n                    ${results.policies.length ? '</ul>' : ''}         \r\n                </div>      \r\n                <div class=\"one-third\">\r\n                    <h2 class=\"search-overlay__section-title\">热门问题</h2>\r\n                    ${results.questions.length ? '<ul class=\"link-list min-list\">' : `<p>无匹配问题。<a target=\"_blank\" href=\"${univ_data.root_url}/Questions\">查看所有热门问题</a></p>`}\r\n                    ${results.questions.map(item => `<li><a href=\"${item.permalink}\" target=\"_blank\">${item.title.replace(/:.*/, '')}</a></li>`)}\r\n                    ${results.questions.length ? '</ul>' : ''}         \r\n                </div>                          \r\n            </div>\r\n        `);\r\n    }\r\n    \r\n    \r\n    keyPressDispathcer(e){\r\n        //!$('input, textarea').is(':focus') 当前没有打开任何输入框\r\n        //按s键打开站内搜索框\r\n        //if(e.keyCode==83&&this.searchState==false&&!$('input, textarea').is(':focus')){\r\n            //this.openOverlay();\r\n        //}\r\n        if(e.keyCode==27&&this.searchState==true){\r\n            this.closeOverlay();\r\n        }\r\n    }\r\n    openOverlay(){\r\n        this.searchOverlay.addClass(\"search-overlay--active\");\r\n        $('body').addClass('body-no-scroll');\r\n        this.searchField.val('');\r\n        setTimeout(()=>this.searchField.focus(),301);\r\n        this.searchState=true;\r\n        return false;\r\n    }\r\n    closeOverlay(){\r\n        this.searchOverlay.removeClass(\"search-overlay--active\");\r\n        $('body').removeClass('body-no-scroll');\r\n        this.searchState=false;\r\n    }\r\n    //搜索页面的样式\r\n    addSearchHtml(){\r\n        $('body').append(`\r\n        <div class=\"search-overlay\">\r\n            <div class=\"search-overlay__top\">\r\n                <div class=\"container\">\r\n                    <div class=\"search-overlay__container\">\r\n                        <i class=\"gg-search search-overlay__icon\" aria-hidden=\"true\"></i>\r\n                        <input type=\"text\" class=\"search-term\" placeholder=\"您想问什么?\" id=\"search-item\">                    \r\n                    </div>\r\n                    <i class=\"gg-close-o search-overlay__close search-overlay__gg-close-o\" aria-hidden=\"true\"></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"container\">\r\n            <div id=\"search-overlay__results\"></div>\r\n            </div>\r\n        </div>\r\n        `)\r\n    }\r\n}\r\nexport default siteSearch","import $ from 'jquery';\r\n\r\nclass smartSearch{\r\n    //1.describe object\r\n    //constructor中的代码在创建对象时会立刻执行\r\n    constructor(){\r\n        $(document).ready(() => {  \r\n            this.openBtn = $(\"#smart-search\"); // 指向搜索按钮的class（注意这里应该是.class而不是#id）  \r\n            this.searchField = $('#smart-search-item'); // id 用#来获取  \r\n            this.submitBtn = $('.smart-search-submit');  \r\n            this.status = 'none'; // 初始化状态  \r\n            this.ans_id = null; // 初始化答案ID  \r\n            this.events();  \r\n            this.searched_question='';//AI搜索问题\r\n            this.answer='';//AI搜索答案\r\n            this.interval_time=2500;\r\n            this.hrefs;//搜索时禁止a标签href，储存删除的href\r\n            //两个计时器要在ajax结束时清除\r\n            this.intervalId;\r\n            this.intervalId3;\r\n        });  \r\n    }\r\n    \r\n    //2.events\r\n    events(){\r\n        //检测用户聚焦搜索框，并检测回车键\r\n        this.searchField.on('keydown', (e) => {\r\n            if (e.key === 'Enter') {\r\n                e.preventDefault(); // 阻止默认的回车事件，避免表单提交\r\n                this.submitBtn.trigger('click'); // 模拟点击提交按钮\r\n            }\r\n        });\r\n        this.submitBtn.on('click',this.askAI.bind(this));  \r\n        //登录后 隐藏智能搜素提示 显示智能搜索框\r\n        if($('.login-notice').data('user')!=0){\r\n            //console.log($('.login-notice').data('user'));\r\n            $('.login-notice').addClass('login-notice-hide');\r\n            $('.search-form').removeClass('search-form-hide');\r\n        }\r\n    }\r\n    //3.functions   \r\n    //进度条函数\r\n    progressBar(status) { \r\n        if(status=='none'){\r\n            currentValue=0;\r\n        }\r\n        var progress_bar = $('.search-progress'); // 假设这是一个 <progress> 元素  \r\n        var currentValue = parseInt(progress_bar.attr('value')); // 获取当前值，如果未设置则默认为0  \r\n        if(status=='Processing'&& currentValue<=85){\r\n            this.intervalId = setInterval(()=>{ \r\n                if (currentValue >= 85) {  \r\n                    clearInterval(this.intervalId); // 当达到或超过76时，停止增加  \r\n                } else {  \r\n                    currentValue++; // 或者，如果你使用百分比，可以这样做：currentValue += (100 / 76);  \r\n                    progress_bar.attr('value', currentValue.toString()); // 更新进度条的值  \r\n                }  \r\n            }, 175); // 每0.175秒更新一次              \r\n        }else if(status=='Success'){\r\n            clearInterval(this.intervalId); // 当达到或超过76时，停止增加  \r\n            status='Success';\r\n            currentValue = 100; // 设置当前值为100  \r\n            progress_bar.attr('value', currentValue.toString()); // 更新进度条的值  \r\n        }\r\n    } \r\n\r\n    //搜索时禁用的设置\r\n    noRedirect(){\r\n        this.ans_id=null;\r\n        this.status='none';\r\n        this.answer='';\r\n        //隐藏站内搜索框\r\n        $('#site-search').addClass('site-search-hide');\r\n        //搜索时显示不要跳转页面的警告\r\n        $('.search-alert').removeClass('search-alert-hide');\r\n        //隐藏搜索按钮\r\n        this.submitBtn.addClass('submit-hide');\r\n        //禁止输入框行为：输入\r\n        $('.s').prop('disabled',true);\r\n        let self = this; // 使用外部变量来保存外部 this 的引用  \r\n        // 搜索时保存主页所有a标签的href属性  \r\n        self.hrefs = $('.home a').map(function() {  // 使用普通函数而不是箭头函数  \r\n            return $(this).attr('href');    \r\n        }).get();  \r\n        // 移除 href 属性以防止跳转页面  \r\n        $('.home a').removeAttr('href');   \r\n    }\r\n    //搜索后重置函数\r\n    allowRedirect(){\r\n        //显示站内搜索框\r\n        $('#site-search').removeClass('site-search-hide');\r\n        //搜索结束隐藏不要跳转页面的警告\r\n        $('.search-alert').addClass('search-alert-hide');\r\n        //显示搜索按钮\r\n        this.submitBtn.removeClass('submit-hide');\r\n        $('.s').prop('disabled',false);\r\n        let self = this; // 使用外部变量来保存外部 this 的引用  \r\n        // 搜索结束时主页恢复a标签的href属性  \r\n        $('.home a').each(function(index) {  // 使用普通函数  \r\n            // 注意这里的 this 指向的是当前遍历到的 DOM 元素  \r\n            $(this).attr('href', self.hrefs[index]);  // 使用之前保存的 self 变量  \r\n        });  \r\n        //重置进度条\r\n        $('.progress-container').addClass('progress-container-hide');\r\n        $('.search-progress').attr('value', 0);\r\n        this.ans_id=null;\r\n        this.status='none';\r\n        this.searched_question='';\r\n        this.answer='';\r\n        this.interval_time=2500;\r\n        this.searchField.val('');\r\n        clearInterval(this.intervalId);\r\n        clearInterval(this.intervalId3);\r\n    }\r\n    //提问函数\r\n    askAI(){\r\n        //判断搜索框是否为空\r\n        if(this.searchField.val()==''){\r\n            alert('你还没有输入内容哦');\r\n        }\r\n        else if(this.searchField.val!=''){\r\n            this.noRedirect();\r\n            let searchTerm = this.searchField.val(); \r\n            //用完就立刻重置，免得出现奇怪的bug，例如多次进入if函数 :(\r\n            let url = 'http://101.42.183.176:51114/ask/?question='+searchTerm;  \r\n            this.searched_question=searchTerm;\r\n            //提交问题\r\n            $.ajax({  \r\n                url: url, // 完整的URL，包括查询参数  \r\n                type: 'GET', // 请求类型：GET  \r\n                dataType: 'json', // 期望的返回数据类型  \r\n                success: (data)=>{   \r\n                    // 在这里处理返回的数据  \r\n                    this.ans_id=data.id;\r\n                    this.status='Processing';\r\n                    $('.progress-container').removeClass('progress-container-hide');\r\n                    this.progressBar(this.status);\r\n                    this.intervalId3 = setInterval(() => {  \r\n                        this.retrieveAns(); // 检索答案的函数  \r\n                        // 假设在某个条件下，我们检索到了答案并想停止间隔调用  \r\n                        if (this.status=='Success') {  \r\n                            this.status = 'Success';  \r\n                            clearInterval(this.intervalId3);\r\n                        }  \r\n                    }, this.interval_time); // 每两点五秒调用一次  \r\n                },  \r\n                error: (jqXHR, textStatus, errorThrown)=> {  \r\n                    // 请求失败时的回调函数  \r\n                    console.error('Error:', textStatus, errorThrown);  \r\n                }  \r\n            }); \r\n        }\r\n    }\r\n    //获取答案\r\n    retrieveAns(){\r\n        if(this.status=='Processing'){  \r\n            let answer_url = 'http://101.42.183.176:51114/retrieve/?id='+this.ans_id;  \r\n            $.ajax({  \r\n                url: answer_url, // 完整的URL，包括查询参数  \r\n                type: 'GET', // 请求类型：GET  \r\n                dataType: 'json', // 期望的返回数据类型  \r\n                success: (data)=>{   \r\n                    if(data.status=='Success'){\r\n                        this.status='Success';\r\n                        this.answer=data.answer;\r\n                        //console.log(data.answer); \r\n                        this.interval_time=500;\r\n                    }\r\n                },  \r\n                error: (jqXHR, textStatus, errorThrown)=>{  \r\n                    console.error('Error:', textStatus, errorThrown);  \r\n                }  \r\n            });            \r\n        } \r\n        //发布答案页面\r\n        if(this.status=='Success'){ \r\n            var newQuestion={\r\n                'title':this.searched_question+':'+this.ans_id,\r\n                'content':this.answer,\r\n                'status':'publish',\r\n            }\r\n            $.ajax({  \r\n                beforeSend:(xhr)=>{\r\n                    xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                },  \r\n                url: univ_data.root_url+'/wp-json/wp/v2/question/',\r\n                data: newQuestion,  \r\n                type: 'POST',  \r\n                success:(response)=>{\r\n                    this.progressBar(this.status);\r\n                    //在生成post之后立刻用ajax请求初始化custom field\r\n                    //使页面功能可以正常运作\r\n                    $.ajax({  \r\n                        beforeSend:(xhr)=>{\r\n                            xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                        },\r\n                        type: 'POST',  \r\n                        url: univ_data.ajaxurl, // WordPress的AJAX处理URL  \r\n                        data: {  \r\n                            //ajax action 钩子->传到php调用相应action的函数\r\n                            'action': 'initiate_view_count', \r\n                            //传递id\r\n                            'question_id':response.id,\r\n                        },  \r\n                        success: (metaresponse)=>{  \r\n                            this.allowRedirect();\r\n                            $.ajax({  \r\n                                beforeSend:(xhr)=>{\r\n                                    xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n                                },\r\n                                url: univ_data.ajaxurl, // 这个URL通常是由WordPress提供的，指向admin-ajax.php                     \r\n                                type: 'POST',  \r\n                                dataType: 'json',  \r\n                                data: {  \r\n                                    action: 'update_question_style', // 自定义的action名称，用于在后端识别这个请求             \r\n                                    post_id: response.id,                                  \r\n                                },                      \r\n                                success: function(update_response) {                      \r\n                                    // 处理成功响应                  \r\n                                    //console.log(update_response);  \r\n                                    window.open(response.link, '_blank');                                },  \r\n                                error: function(response_error) {                \r\n                                    // 处理错误                  \r\n                                    console.log(response_error);               \r\n                                }  \r\n                            });\r\n                        },  \r\n                        error: (error)=>{  \r\n                            // 处理AJAX请求错误  \r\n                            console.log(error);  \r\n                        }  \r\n                    });     \r\n                },\r\n                error:(response)=>{\r\n                    console.log(\"error\");\r\n                    console.log(response);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    \r\n\r\n}\r\n\r\nexport default smartSearch","import $ from 'jquery';\r\n\r\nclass ViewingHistory{\r\n    constructor(){\r\n        this.events();\r\n    }\r\n    events(){\r\n        $('.delete-viewing-history').on('click',this.deleteViewingHistory.bind(this));\r\n\r\n    }\r\n    deleteViewingHistory(e){\r\n        var thisHistory=$(e.target).parents(\"li\");\r\n        thisHistory.slideUp();\r\n        $.ajax({  \r\n            beforeSend:(xhr)=>{\r\n                xhr.setRequestHeader(\"X-WP-Nonce\",univ_data.nonce);\r\n            },\r\n            type: 'POST',  \r\n            url: univ_data.ajaxurl, // WordPress的AJAX处理URL  \r\n            data: {  \r\n                'action': 'delete_viewing_history', \r\n                'user_id':univ_data.current_user,\r\n                'page_id':thisHistory.data('page_id'),\r\n            },  \r\n            success: function(response) {  \r\n                // 处理服务器响应  \r\n                thisHistory.slideUp();\r\n                console.log('congrats');\r\n                console.log(response);\r\n            },  \r\n            error: function(error) {  \r\n                // 处理AJAX请求错误  \r\n                console.log('sorry');\r\n                console.log(response);      \r\n            }  \r\n        }); \r\n    }\r\n}\r\n\r\nexport default ViewingHistory;","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkfictional_university_theme\"] = globalThis[\"webpackChunkfictional_university_theme\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["MobileMenu","siteSearch","NewPolicy","BackToTop","smartSearch","Question","NewNotice","ViewingHistory","mobileMenu","sitesearch","newpolicy","backtotop","smartsearch","question","newnotice","viewinghistory","constructor","menu","document","querySelector","openButton","events","addEventListener","openMenu","classList","toggle","$","on","deleteQuestion","bind","highlightMyQuestion","replaceQuestionsContent","question_content","html","tempDiv","questionFlag","find","length","each","href","attr","replace","console","log","modifiedString","data","univ_data","current_user","addClass","e","thisQuestion","target","parents","ajax","beforeSend","xhr","setRequestHeader","nonce","url","root_url","type","success","response","slideUp","error","mybutton","backtotop_click","window","scroll","scrollTop","fadeIn","fadeOut","animate","getFileNameWithoutExtension","filePath","parts","split","fileNameWithoutExtension","slice","join","getFileExtension","lastIndex","lastIndexOf","fileNames","notice_type","deleteNotice","checkFiles","submitNotice","showFiles","getText","got_content","urlString","regex","match","contentPath","answer_url","post_id","dataType","ajaxurl","text","response2","response3","hasClass","toggleClass","input","files","maxFiles","alert","value","prop","i","push","name","val","exist_notice","raw_title","suffix","clear_title","k","policies","notices","newFile","removeClass","id","metaresponse","thisNotice","delete_url_no_suffix","delete_url","submit_form","formData","FormData","fileInput","append","processData","res","deletePolicy","submitPolicy","exist_policy","thisPolicy","addSearchHtml","openBtn","closeBtn","searchOverlay","searchField","searchState","typingTimer","resultsDiv","spinnerState","previousValue","openOverlay","closeOverlay","keyPressDispathcer","typingLogic","clearTimeout","setTimeout","getResults","searchTerm","replaceTerms","combinedResults","questions","ajaxRequests","groupNames","groupName","synonyms","forEach","synonym","replaceTerm","request","getJSON","results","mergeResults","when","done","displayResults","newResults","isResultExists","resultsArray","result","some","existingResult","notice","policy","map","item","permalink","title","keyCode","focus","ready","submitBtn","status","ans_id","searched_question","answer","interval_time","hrefs","intervalId","intervalId3","key","preventDefault","trigger","askAI","progressBar","currentValue","progress_bar","parseInt","setInterval","clearInterval","toString","noRedirect","self","get","removeAttr","allowRedirect","index","retrieveAns","jqXHR","textStatus","errorThrown","newQuestion","action","update_response","open","link","response_error","deleteViewingHistory","thisHistory"],"sourceRoot":""}